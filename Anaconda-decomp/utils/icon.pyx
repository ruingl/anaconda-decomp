# Copyright (c) Mathias Kaerlev 2012.# This file is part of Anaconda.# Anaconda is free software: you can redistribute it and/or modify# it under the terms of the GNU General Public License as published by# the Free Software Foundation, either version 3 of the License, or# (at your option) any later version.# Anaconda is distributed in the hope that it will be useful,# but WITHOUT ANY WARRANTY; without even the implied warranty of# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the# GNU General Public License for more details.# You should have received a copy of the GNU General Public License# along with Anaconda.  If not, see <http://www.gnu.org/licenses/>.IF UNAME_SYSNAME == "Windows":    cdef extern from "Python.h":        Py_UNICODE * PyUnicode_AS_UNICODE(object value)    cdef extern from "_icon.c":        object do_add_icon(Py_UNICODE * exename, Py_UNICODE * iconame,                            int icoid, bint bDelete)        void initialize()cdef extern from "mac.cpp":    void make_icon(char* filename, unsigned char* size16, unsigned char* size32,                   unsigned char* size48, unsigned char* size128)IF UNAME_SYSNAME == "Windows":    initialize()    def update_icon(unicode exe_name, unicode icon_name):        cdef Py_UNICODE * new_exe = PyUnicode_AS_UNICODE(exe_name)        cdef Py_UNICODE * new_icon = PyUnicode_AS_UNICODE(icon_name)        return do_add_icon(new_exe, new_icon, 1, True)def make_mac_icon(filename, size16, size32, size48, size128):    make_icon(filename, size16, size32, size48, size128)